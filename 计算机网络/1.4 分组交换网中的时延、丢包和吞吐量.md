### 1.4.1 分组交换网中的时延概述

路由器A -> 路由器B，下列是路由器A的结点时延

**处理时延**（processing delay）   
检查分组首部和决定将该分组导向何处所需要的时间是**处理时延**的一部分。处理时延也能包括其他因素，如检查比特级别的差错所需要的时间。在结点处理之后，路由器将该分组引向通往路由器B链路之前的队列。

**排队时延**（queuing delay）   
在队列中，当分组在链路上等待传输时，它经受**排队时延**。一个特定分组的排队时延长度将取决于先期到达的正在排队等待向链路传输的分组数量。

**传输时延**（transmission delay）   
L比特表示该分组的长度，R表示从路由器A到路由器B的链路传输速率。则**传输时延** = L / R。也即将所有该分组的比特推（传输）向链路所需要的时间。


**传播时延**（propagation delay）   
一旦一个比特被推向链路，该比特需要向路由器B传播。从该链路的起点到路由器B传播所需要的时间是**传播时延**。该比特以该链路的传播速率传播。传播速率取决于该链路的物理媒介（光纤、双绞铜线等），等于或略小于光速。传播时延等于物理距离除以传播速率。d/s

传输时延 vs 传播时延   
传输时延是路由器将分组推出所需要的时间，它是分组长度和链路传输速率的函数，而与两台路由器之间的距离无关。   
传播时延是一个比特从一台路由器向另一台路由器传播所需要的时间，它是两台路由器之间距离的函数，而与分组长度或链路传输速率无关。

结点的总时延：d<sub>nodal</sub> = d<sub>proc</sub> + d<sub>queue</sub> + d<sub>trans</sub> + d<sub>prop</sub>

### 1.4.2 排队时延和丢包

与其他时延不同，排队时延对不同的分组可能是不同的。例如，如果10个分组同时到达空队列，那么传输的第一个分组没有排队时延，而传输的最后一个分组将经受较大的排队时延（等待前9个分组被传输）。因此，当表征排队时延时，人们经常使用统计量测度，如平均排队时延、排队时延的方差和排队时延超过某些特定值的概率。

**流量强度**（traffic intensity）   
a = 分组到达队列的平均速率   
L = 组成分组的比特数   
R = 传输速率   
则**La / R**被称为流量强度，流量强度在估计排队时延的范围方面经常起到重要的作用，如果La / R > 1,则比特到达队列的平均速率超过从该队列传输出去的速率，即队列趋向于无界增加，导致排队时延趋向于无穷大。所以，*设计系统时流量强度不能大于1*

随着流量强度接近于1，平均排队时延迅速增加。该强度少量的增加将导致时延大得多的增加。类似于指数函数？

**丢包**（packet lose）   
随着流量强度接近于1，排队容量（输出缓存/队列？）将被填满，此时，新到达的分组则会由于没有地方存储而被**丢弃**（drop）（v.），即该分组将会**丢失**（lost）(n.)

### 1.4.3 端到端时延

假设：在源主机和目的主机之间有N - 1台路由器，且该网络此时无拥塞（不考虑排队时延d<sub>queue</sub>），每台路由器和源主机的处理时延是d<sub>proc</sub>，输出速率是R bps，每条链路的传播时延是d<sub>prop</sub>，结点时延累加可得：   
d<sub>end-end</sub> = N(d<sub>proc</sub> + d<sub>trans</sub> + d<sub>prop</sub>)   
式中，d<sub>trans</sub> = L / R，L为分组长度。

1 Traceroute   
2 端系统、应用程序和其他时延

### 1.4.4 计算机网络中的吞吐量

**瞬时吞吐量**（instantaneous throughput）   
**平均吞吐量**（average throughput）   
**瓶颈链路**（bottleneck link）