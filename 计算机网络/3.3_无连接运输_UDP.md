UDP是一个不提供不必要服务的最简化的运输层协议。

除了复用/分解功能及少量的差错检测外，它几乎没有对IP增加别的东西。

UDP从应用进程得到数据，附加上用于多路复用/分解服务的源和目的端口号字段，以及其他两个小字段，然后将形成的报文段交给网络层。网络层将该运输层报文段封装到一个IP数据报中，然后尽力而为地尝试将此报文段交付给接收主机。如果该报文段到达接收主机，UDP使用目的端口号将报文段中的数据交付给正确的应用进程。值得注意的是，使用UDP时，在发送报文段之前，发送方和接收方的运输层实体之间没有握手。正因为如此，UDP被称为是**无连接**的。

有许多应用更适合用UDP开发，原因主要有以下几点：

（1）关于发送什么数据以及何时发送的应用层控制更为精细（如一部分实时应用）

（2）无须建立连接

（3）无连接状态

（4）分组首部开销小

### 3.3.1 UDP报文段结构

源端口号、目的端口号、长度、校验和、应用数据（报文）

### 3.3.2 udp检验和

UDP检验和提供了差错检测功能。

发送方的UDP对报文段中的所有16比特字的和进行反码运算，求和时遇到的任何溢出都被回卷。得到的结果被放在UDP报文段中的检验和字段。

如果端到端数据传输服务要提供差错检测，UDP就必须在端到端基础上在运输层提供差错检测。这是一个在系统设计中被称颂的**端到端原则**（end-end principle）的例子，该原则表述为因为某种功能（此处为差错检测）必须基于端到端实现：‘与在较高级别提供这些功能的代价相比，在较低级别上设置的功能可能是冗余的或几乎没有价值的’
