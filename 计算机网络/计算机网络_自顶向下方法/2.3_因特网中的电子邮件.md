因特网电子邮件系统有3个主要组成部分：**用户代理**（user agent），**邮件服务器**（mail server），**简单邮件传输协议**（Simple Mail Transfer Protocol, SMTP）。

用户代理允许用户阅读、回复、转发、保存和撰写报文。例如Outlook等。举个例子：当Alice完成邮件撰写时，她的邮件代理向其邮件服务器发送邮件，此时邮件放在邮件服务器的外出报文队列中。当Bob要阅读报文时，他的用户代理在其邮件服务器的邮箱中取得该报文。

邮件服务器形成了电子邮件体系结构的核心。每个接收方（如Bob）在其中的某个邮件服务器上有一个**邮箱**（mailbox）。Bob的邮箱管理和维护着发送给他的报文。

典型的邮件发送过程：从发送方的用户代理开始，传输到发送方的邮件服务器，再传输到接收方的邮件服务器，然后在这里被分发到接收方的邮箱中。

当发送失败时，发送方的邮件服务器会维护一个**报文队列**（message queue）来保持发送失败的报文并在之后尝试再次发送。通常每30分钟左右进行一次尝试；如果多次（可能是几天）仍无法传送成功，服务器就删除该报文并以电子邮件的形式通知发送方。

### 2.3.1 SMTP

略

### 2.3.2 与HTTP的对比

HTTP是一个**拉协议**（pull protocol），即TCO连接是由想接收文件的机器发起的。

SMTP是一个**推协议**（push protocol），即发送邮件服务器把文件推向接收文件服务器。这个TCP连接是由要发送该文件的机器发起的。

SMTP要求每个报文（包括报文体）采用7比特ASCII码形式。如果包含非7比特ASCII码的字符或二进制数据，则该报文必须按照7比特ASCII码进行编码。HTTP数据则不受这种限制。

HTTP将每个对象封装到它自己的HTTP响应报文中，而SMTP则把所有报文对象放在一个报文之中。

### 2.3.3 邮件报文格式

每个首部必须含有From: 首部行、To: 首部行；可能还含有Subject: 首部行及其他可选的首部行。

在报文首部行之后，紧接着一个空白行，然后是以ACSII格式表示的报文体。

### 2.3.4 邮件访问协议

POP3、IMAP以及HTTP



2.3节未做深入阅读，仅浏览大概原理，用作了解